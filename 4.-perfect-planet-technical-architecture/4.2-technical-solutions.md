# 4.2 Technical solutions

**Consensus mechanism:**

In order to better realize the metaverse game ecology, Perfect Planet has strict requirements for efficiency and safety. Therefore, the enhanced consensus algorithm optimized by the Perfect Planet technical team can increase the self-healing property of the DPoS algorithm. In our technical solution, the data structure of a block is divided into a block header (Header) and a block body (Body). Among them, the block header (Header) contains the link to the previous block Hash, and through the reference to the timestamp, random number, block body content, previous block hash and other elements, the irreversible basis of the chain data is guaranteed ; The block body records the complete information of the packaged transaction, and uses the common prefix of the string to compress the string to achieve the purpose of improving query efficiency and saving storage space. At the same time, such a structure can ensure that after a malicious block occurs, not only can the blocks marked as Cancer be disposed of to ensure the security of the game ecology, but also the effective information in the Cancer blocks can be extracted and reused to improve the experience The block generation speed after malicious blocks, so in the case of malicious blocks, SH-DPoS can be more efficient and safer than traditional DPoS, and then ensure the efficient error correction and fast delivery of value from the underlying logic with tight protection.

The development team writes game strategies based on the smart contract mechanism of blockchain technology. Any game player, including individuals, studios, and enterprises, can apply to join the Perfect Planet network through the distributed game autonomous access mechanism and join the Perfect Planet ecosystem. Players obtain the main chain TOKEN through the PoA confirmation mechanism. In the process of participating in the game, players will consume the corresponding main chain TOKEN in the account according to the smart contract strategy set by the game to complete game tasks or obtain game virtual assets. All virtual assets owned by players are recorded in the blockchain network and cannot be tampered with. At the same time, they can exchange digital value with a variety of virtual assets in the Perfect Planet game ecosystem through the main chain network. The exchange requires a certain amount of main chain TOKEN. The overall blueprint we conceive is based on Perfect Planet to create a collection of multiple sub-chains that meet the prospects of next-generation blockchain technology. All these sub-chains cooperate through an open function entry protocol.

**Hash algorithm:**

Hash (Hash) algorithm is a very important computer algorithm. It can map binary plaintext strings of any length into shorter Hash values, and it is difficult for different plaintexts to be mapped to the same Hash value. The encryption and decryption process keys of the symmetric encryption algorithm are the same, and the advantage is that the encryption and decryption efficiency and encryption strength are high. The disadvantage is that all parties need to hold the secret key in advance, and once someone leaks it, the security will be destroyed. The encryption key and decryption key of the asymmetric encryption algorithm are different, which are called the public key and the private key respectively. The advantage is that the public and private keys are separated, and insecure channels can also be used. The disadvantage is that the processing speed is slow, generally 2 to 3 orders of magnitude slower than symmetric encryption and decryption algorithms. Asymmetric encryption algorithms are mainly based on mathematical problems. Representative algorithms include: RSA, ELGamal, elliptic curve, SM2, etc. Bitcoin adopts elliptic curve encryption algorithm, which has high security, but it is time-consuming in the process of encryption and decryption. Perfect Planet introduces a discrete logarithm-based cryptographic scheme that preserves the possibility of future expansion.

**Dedicated subchain:**

Each sub-chain adopts PBFT (Practical Byzantine Fault Tolerance, Byzantine Fault Tolerance). This algorithm was proposed by Miguel Castro (Castro) and Barbara Liskov (Liskov) in 1999. It solved the problem of low efficiency of the original Byzantine fault-tolerant algorithm and reduced the algorithm complexity from exponential to polynomial. , making the Byzantine fault-tolerant algorithm feasible in practical system applications. For the Byzantine problem, the total number of joining nodes is N, and the number of defecting generals is F, then the problem can only be solved when Nâ‰¥3F+1. The PBFT algorithm uses cryptography-related technologies (RSA signature algorithm, message verification encoding and digest) to ensure that the message delivery process cannot be tampered with and destroyed.

**Asset Circulation:**

When the two sides of the transaction have different sub-chain virtual assets and need to exchange, the Perfect Planet blockchain system automatically establishes a smart contract for this transaction. The establishment of the smart contract will consume a certain amount of TOKEN, and the assets of both sides of the transaction are submitted to the two-way/joint agreement. to lock. When both parties to the transaction sign the virtual assets to be traded within the specified time range, the transaction assets are allocated according to the agreement, and the transaction is completed, and both parties will consume a certain amount of TOKEN. When both parties to the transaction fail to sign the virtual asset within the specified time, the transaction fails, the virtual asset is returned, and the unsigned party consumes TOKEN.

**Decentralized game server framework:**

From the perspective of blockchain, the decentralized server framework specially designed for games can not only satisfy individual developers and small game development teams to make games, but also provide mature large-scale game development and operation solutions for professional game companies. The game writes multiple logic systems into the smart contracts of the sub-chain, and the game rules engine interprets and executes the contracts. Distributed proxy nodes can perform multi-role splitting and distributed deployment according to demand and business pressure. The consensus network agrees on the business request and writes it to the blockchain. The game can send a request to the blockchain network to call the specified smart contract by name, version number, etc. The game rules engine directly interacts with the chain structure and is an extremely important core module. The smart contract code is essentially to support the upper-level business logic of the game.

**Visual editor:**

In order to facilitate developers to develop blockchain-based games, the Perfect Planet metaverse game ecosystem provides an easy-to-use visual smart contract editor (IDE). The editor can meet the basic logic of game development, and has a visual interface for developers to use This interface can easily and quickly develop blockGamefi.
